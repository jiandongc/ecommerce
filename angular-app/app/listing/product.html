<div class="container">
	<ul class="breadcrumb category-crumb">
  		<li><a href="#"><i class="glyphicon glyphicon-home"></i></a></li>
  		<li ng-repeat="category in parentcategories" ng-class="{'fw-bold':$last}">
  			<a href="#!/category/{{category.code}}">{{category.name}}</a>
  		</li>
	</ul>
	<div ng-show="loading" class="m-t-05 m-b-05 fs-20" style="text-align: center;">
		<i class="glyphicon glyphicon-refresh spinning"></i>
	</div>
	<div ng-show="!loading" class="row product-detail">
		<div class = "col-xs-12 col-md-6">
			<div class="flexslider">
  				<ul class="slides">
    				<li ng-repeat='url in product.images' data-thumb='{{url}}' on-finish-init-slider>
      					<img ng-src='{{url}}' />
    				</li>
  				</ul>
			</div>	
		</div>
		<div class = "col-xs-12 col-md-6">
			<div ng-show="product.brand" class="fs-10 text-underline m-b-05"><a href="#!/brands/{{product.brand.code}}" class="color-emperor">{{product.brand.name}}</a></div>
			<div class="fs-13 fw-bold m-b-05">{{product.name}}</div>
			<div class="m-b-05">
				<span class="fs-20 fw-bold" ng-class="{'color-valencia': onSale}">{{price | currency:"£"}}</span>
				<span ng-show="onSale" class="fs-16 m-l-05 text-line-through">{{originalPrice | currency:"£"}}</span>
			</div>
			<div class="m-b-05">
				<span ng-show="qty >= 0 && qty <= 10" class="fs-09 label label-warning m-r-05">{{qty}} left</span>
				<span ng-show="qty > 10 || !qty" class="fs-09 label label-success m-r-05">Items in stock</span>
				<span ng-show="onSale" class="fs-09 label label-danger m-r-05">{{discountRate}} Off</span>
				<span class="fs-09 label label-info m-r-05">满$49免运费</span>
			</div>
			<div class="m-b-05">
				<a ng-repeat='item in product.tags' class="clickable-label" href="#!/tags/{{item.tag}}">
					<span class="fs-09 label m-r-05" style="background-color: {{item.colorHex}}">#{{item.tag}}</span>
				</a>
			</div>
			<div ng-show="colorVariant" class="row color-variant m-b-05">
				<div class="col-xs-3">
					<img class="active" ng-src='{{product.images[0]}}'/>
				</div>
				<div class="col-xs-3" ng-repeat='variant in colorVariant'>
					<a href="#!/products/{{variant.code}}">
						<img ng-src='{{variant.imageUrl}}'/>
					</a>
				</div>
			</div>			
			<div class="divider"></div>
			<div ng-repeat="(attribute, values) in product.attributes">
				<div class="form-group">
  					<label for="{{attribute}}">{{attribute}}</label>
  					<select class="form-control" id="{{attribute}}" ng-init="value=''" ng-model="value" ng-change="select(attribute, value)">
  						<option value="">Choose an Option...</option>
  						<option ng-repeat="value in values" value="{{value}}">{{value}}</option>
  					</select>
				</div>
			</div>
			<div ng-show="selectOptionAlert" class="m-b-05 alert alert-danger">
				Please choss an option 
			</div>
			<div ng-show="addedToFavouriteAlert" class="m-b-05 alert alert-success">
				Added to <a href="#!/account/{{customerId}}/favourites" class="alert-link">your favourites</a>!
			</div>
			<div class="m-b-05">
				<button ng-show="qty > 0 || !qty" class="btn btn-style-primary" ng-click="addItemToCart(product)">
					<span ng-show="addingItem"><i class="glyphicon glyphicon-refresh spinning"></i></span>
					<span class="glyphicon glyphicon-shopping-cart"></span>&nbsp;&nbsp;Add to Bag
				</button>
				<button class="btn btn-style-secondary" ng-click="addToFavourite(product)">
					<span ng-show="addingItemToFavourites"><i class="glyphicon glyphicon-refresh spinning"></i></span>
					<span class="color-valencia glyphicon glyphicon-heart"></span>&nbsp;&nbsp;Add to Favourites
				</button>
			</div>
			<div>
				<button ng-show="qty == 0" class="btn btn-style-secondary" ng-click="">
					<span class="color-cream-can glyphicon glyphicon-envelope"></span>&nbsp;&nbsp;Email me when available
				</button>
			</div>
			<div class="desc" dynamic="product.description"></div>
		</div>
	</div>
</div>
